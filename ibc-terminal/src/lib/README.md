# src/lib

This directory contains core logic and utility modules for the IBC Terminal research platform.

## Main Files

- `dataCollection.ts` — Handles user interaction tracking, local/session storage, and analytics upload
- `deviceId.ts` — Generates and manages persistent device IDs for participant assignment
- `gemini.ts` — Integrates with the Gemini API for AI-driven narrative and analysis
- `mongodb.ts` — MongoDB connection and helper utilities
- `worldAllocation.ts` — Deterministic world and variant assignment for experimental control

## Research Context

These modules implement the backbone of data collection, world allocation, and AI integration for reproducible behavioral experiments. All logic is documented for research transparency and onboarding.
